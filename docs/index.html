<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Catime - AI Cat Gallery</title>
  <meta name="description" content="Catime - æ¯å°æ™‚ AI è‡ªå‹•ç”Ÿæˆçš„è²“å’ªè—è¡“ Galleryã€‚ä½¿ç”¨ Gemini AI å‰µä½œç¨ç‰¹é¢¨æ ¼çš„è²“å’ªåœ–ç‰‡ã€‚">
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@graph": [
        {
          "@type": "WebSite",
          "name": "Catime - AI Cat Gallery",
          "description": "Catime - æ¯å°æ™‚ AI è‡ªå‹•ç”Ÿæˆçš„è²“å’ªè—è¡“ Galleryã€‚ä½¿ç”¨ Gemini AI å‰µä½œç¨ç‰¹é¢¨æ ¼çš„è²“å’ªåœ–ç‰‡ã€‚",
          "url": "https://yazelin.github.io/catime/",
          "author": {
            "@type": "Person",
            "name": "Yazelin"
          },
          "dateModified": "2026-02-11"
        },
        {
          "@type": "ImageGallery",
          "name": "Catime - AI Cat Gallery",
          "description": "Catime - æ¯å°æ™‚ AI è‡ªå‹•ç”Ÿæˆçš„è²“å’ªè—è¡“ Galleryã€‚ä½¿ç”¨ Gemini AI å‰µä½œç¨ç‰¹é¢¨æ ¼çš„è²“å’ªåœ–ç‰‡ã€‚",
          "url": "https://yazelin.github.io/catime/",
          "author": {
            "@type": "Person",
            "name": "Yazelin"
          },
          "dateModified": "2026-02-11"
        }
      ]
    }
  </script>
  <meta property="og:title" content="Catime - AI Cat Gallery">
  <meta property="og:description" content="æ¯å°æ™‚ AI è‡ªå‹•ç”Ÿæˆçš„è²“å’ªè—è¡“ Galleryã€‚ä½¿ç”¨ Gemini AI å‰µä½œç¨ç‰¹é¢¨æ ¼çš„è²“å’ªåœ–ç‰‡ã€‚">
  <meta property="og:image" content="https://yazelin.github.io/catime/icon-192.png">
  <meta property="og:url" content="https://yazelin.github.io/catime/">
  <meta property="og:type" content="website">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Catime - AI Cat Gallery">
  <meta name="twitter:description" content="æ¯å°æ™‚ AI è‡ªå‹•ç”Ÿæˆçš„è²“å’ªè—è¡“ Galleryã€‚ä½¿ç”¨ Gemini AI å‰µä½œç¨ç‰¹é¢¨æ ¼çš„è²“å’ªåœ–ç‰‡ã€‚">
  <meta name="twitter:image" content="https://yazelin.github.io/catime/icon-192.png">
  <link rel="canonical" href="https://yazelin.github.io/catime/">
  <meta name="theme-color" content="#ff6b9d">
  <link rel="manifest" href="manifest.json">
  <link rel="preconnect" href="https://raw.githubusercontent.com" crossorigin>
  <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="icon" href="favicon.ico" sizes="any">
  <link rel="icon" href="favicon-32.png" type="image/png" sizes="32x32">
  <link rel="icon" href="icon-192.png" type="image/png" sizes="192x192">
  <link rel="apple-touch-icon" href="apple-touch-icon.png">
  <link rel="alternate" type="application/rss+xml" title="Catime RSS" href="feed.xml">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header id="topbar">
    <img src="icon-192.png" alt="Catime" class="logo-icon">
    <h1>Catime <span id="cat-count" class="cat-count"></span></h1>
    <div class="filters">
      <input type="search" id="search-input" class="search-input" placeholder="Search #number or title...">
      <button id="random-cat-btn" class="random-cat-button" title="éš¨æ©Ÿä¸€å–µ" aria-label="éš¨æ©Ÿä¸€å–µ"><svg viewBox="0 0 24 24" width="22" height="22" fill="currentColor"><path d="M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2zM7.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm0 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm4.5-4.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm4.5-4.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm0 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"/></svg> éš¨æ©Ÿä¸€å–µ</button>
      <select id="character-filter">
        <option value="">All Characters</option>
      </select>
      <select id="inspiration-filter">
        <option value="">All Inspiration</option>
        <option value="original">åŸå‰µ</option>
        <option value="news">æ–°èéˆæ„Ÿ</option>
      </select>
      <select id="model-filter">
        <option value="">All Models</option>
      </select>
      <div class="date-picker" id="date-picker">
        <button class="date-picker-btn" id="date-picker-btn"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg> All Dates</button>
        <div class="date-dropdown hidden" id="date-dropdown">
          <div class="dd-header">
            <button class="dd-nav" id="dd-prev">&lsaquo;</button>
            <span id="dd-month-label"></span>
            <button class="dd-nav" id="dd-next">&rsaquo;</button>
          </div>
          <div class="dd-weekdays">
            <span>Su</span><span>Mo</span><span>Tu</span><span>We</span><span>Th</span><span>Fr</span><span>Sa</span>
          </div>
          <div class="dd-days" id="dd-days"></div>
          <button class="dd-clear" id="dd-clear">Clear</button>
        </div>
      </div>
    </div>
    <button id="theme-toggle" class="theme-toggle" aria-label="åˆ‡æ›æ·±æ·ºæ¨¡å¼" title="åˆ‡æ›æ·±æ·ºæ¨¡å¼"><svg viewBox="0 0 24 24" width="22" height="22" fill="currentColor"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg></button>
    <a href="https://github.com/yazelin/catime" target="_blank" rel="noopener" class="github-link" title="View on GitHub">
      <svg viewBox="0 0 16 16" width="22" height="22" fill="currentColor"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.01 8.01 0 0016 8c0-4.42-3.58-8-8-8z"/></svg>
    </a>
    <a href="feed.xml" class="rss-link" title="RSS Feed">
      <svg viewBox="0 0 24 24" width="22" height="22" fill="currentColor"><path d="M6.18 15.64a2.18 2.18 0 1 1 0 4.36 2.18 2.18 0 0 1 0-4.36zM4 4.44A15.56 15.56 0 0 1 19.56 20h-2.83A12.73 12.73 0 0 0 4 7.27V4.44zm0 5.66a9.9 9.9 0 0 1 9.9 9.9h-2.83A7.07 7.07 0 0 0 4 12.93V10.1z"/></svg>
    </a>
    <div id="character-bar" class="character-bar"></div>
  </header>

  <nav id="timeline" aria-label="Timeline navigation">
    <button id="timeline-toggle" aria-label="Toggle timeline"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg></button>
    <div id="timeline-list"></div>
  </nav>

  <button id="back-to-top" class="back-to-top" aria-label="Back to top">â†‘</button>

  <main id="gallery" class="masonry">
    <div class="skeleton-card" aria-hidden="true"><div class="skeleton-img"></div><div class="skeleton-line w80"></div><div class="skeleton-line w50"></div></div>
    <div class="skeleton-card" aria-hidden="true"><div class="skeleton-img"></div><div class="skeleton-line w80"></div><div class="skeleton-line w50"></div></div>
    <div class="skeleton-card" aria-hidden="true"><div class="skeleton-img"></div><div class="skeleton-line w80"></div><div class="skeleton-line w50"></div></div>
    <div class="skeleton-card" aria-hidden="true"><div class="skeleton-img"></div><div class="skeleton-line w80"></div><div class="skeleton-line w50"></div></div>
    <div class="skeleton-card" aria-hidden="true"><div class="skeleton-img"></div><div class="skeleton-line w80"></div><div class="skeleton-line w50"></div></div>
    <div class="skeleton-card" aria-hidden="true"><div class="skeleton-img"></div><div class="skeleton-line w80"></div><div class="skeleton-line w50"></div></div>
  </main>
  <div id="end-msg" class="hidden">No more cats! ğŸ±</div>

  <!-- Floating Giscus button & slide-in panel -->
  <button id="giscus-toggle" class="back-to-top giscus-toggle" aria-label="Toggle comments" aria-expanded="false"><svg viewBox="0 0 24 24" width="22" height="22" fill="currentColor"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg></button>
  <aside id="giscus-panel" class="giscus-panel" aria-hidden="true" role="dialog" aria-labelledby="giscus-title">
    <div id="giscus-container" class="giscus-panel-body">
      <section id="giscus-section">
        <div class="giscus-panel-header">
          <h2 id="giscus-title"><svg viewBox="0 0 24 24" width="22" height="22" fill="currentColor" style="vertical-align:middle"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg> ç•™è¨€è¨è«–</h2>
          <button id="giscus-panel-close" aria-label="Close comments">Ã—</button>
        </div>
      </section>
    </div>
  </aside>

  <script>
    // Floating Giscus panel with lazy-load
    (function() {
      var toggle = document.getElementById('giscus-toggle');
      var panel = document.getElementById('giscus-panel');
      var closeBtn = document.getElementById('giscus-panel-close');
      var giscusLoaded = false;

      function getGiscusTheme() {
        var currentTheme = document.documentElement.getAttribute('data-theme');
        if (currentTheme) {
          return currentTheme === 'dark' ? 'dark' : 'light';
        }
        return window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
      }

      function loadGiscus() {
        if (giscusLoaded) return;
        var section = document.getElementById('giscus-section');
        if (!section) return;
        var mount = document.getElementById('giscus-mount');
        if (!mount) {
          mount = document.createElement('div');
          mount.id = 'giscus-mount';
          section.appendChild(mount);
        }
        var s = document.createElement('script');
        s.src = 'https://giscus.app/client.js';
        s.setAttribute('data-repo', 'yazelin/catime');
        s.setAttribute('data-repo-id', 'R_kgDOREojMg');
        s.setAttribute('data-category', 'General');
        s.setAttribute('data-category-id', 'DIC_kwDOREojMs4C2KHU');
        s.setAttribute('data-mapping', 'pathname');
        s.setAttribute('data-strict', '0');
        s.setAttribute('data-reactions-enabled', '1');
        s.setAttribute('data-emit-metadata', '0');
        s.setAttribute('data-input-position', 'top');
        s.setAttribute('data-theme', getGiscusTheme());
        s.setAttribute('data-lang', 'zh-TW');
        s.setAttribute('data-loading', 'lazy');
        s.crossOrigin = 'anonymous';
        s.async = true;
        mount.appendChild(s);
        giscusLoaded = true;
      }

      function openPanel() {
        if (!panel) return;
        panel.classList.add('open');
        panel.setAttribute('aria-hidden', 'false');
        if (toggle) toggle.setAttribute('aria-expanded', 'true');
        loadGiscus();
        if (closeBtn) closeBtn.focus();
      }

      function closePanel() {
        if (!panel) return;
        panel.classList.remove('open');
        panel.setAttribute('aria-hidden', 'true');
        if (toggle) toggle.setAttribute('aria-expanded', 'false');
      }

      function togglePanel() {
        if (!panel) return;
        if (panel.classList.contains('open')) {
          closePanel();
        } else {
          openPanel();
        }
      }

      if (toggle) toggle.addEventListener('click', togglePanel);
      if (closeBtn) closeBtn.addEventListener('click', closePanel);
      document.addEventListener('keydown', function(event) {
        if (event.key === 'Escape' && panel && panel.classList.contains('open')) {
          closePanel();
        }
      });

      // Sync Giscus theme on toggle
      var themeToggle = document.getElementById('theme-toggle');
      if (themeToggle) {
        themeToggle.addEventListener('click', function() {
          setTimeout(function() {
            var iframe = document.querySelector('.giscus-frame');
            if (iframe) {
              iframe.contentWindow.postMessage(
                { giscus: { setConfig: { theme: getGiscusTheme() } } },
                'https://giscus.app'
              );
            }
          }, 50);
        });
      }
    })();
  </script>

  <div id="lightbox" class="hidden" role="dialog" aria-modal="true">
    <button id="lb-close" aria-label="Close">&times;</button>
    <button id="lb-prev" class="lb-nav lb-prev" aria-label="ä¸Šä¸€å¼µ">â€¹</button>
    <button id="lb-next" class="lb-nav lb-next" aria-label="ä¸‹ä¸€å¼µ">â€º</button>
    <div id="lb-nav-hint" class="lb-nav-hint">â† æ»‘å‹•æˆ–æŒ‰éµåˆ‡æ› â†’</div>
    <div id="lb-info"></div>
    <div id="lb-img-wrap">
      <img id="lb-img" src="" alt="Cat">
      <div id="lb-img-actions">
        <button id="lb-like-btn" title="Like this cat"></button>
        <button id="lb-download-btn" title="Download image"></button>
        <button id="lb-copy-btn" title="Copy prompt"></button>
      </div>
    </div>
    <div id="lb-details">
      <p id="lb-prompt-text" class="hidden"></p>
      <div id="lb-tab-bar"></div>
      <div id="lb-tab-panels">
        <div id="lb-story" class="lb-panel hidden"><p id="lb-story-text"></p></div>
        <div id="lb-idea" class="lb-panel hidden"><p id="lb-idea-text"></p></div>
        <div id="lb-news" class="lb-panel hidden"><div id="lb-news-list"></div></div>
        <div id="lb-avoid" class="lb-panel hidden"><div id="lb-avoid-list"></div></div>
      </div>
    </div>
  </div>

  <script src="dom-utils.js"></script>
  <script src="app.js"></script>
  <script>
    // Populate character bar from characters/index.json
    (function(){
      var bar = document.getElementById('character-bar');
      if (!bar) return;
      var icons = {
        mochi: '<svg viewBox="0 0 24 24" width="22" height="22" fill="#FF8C00"><circle cx="12" cy="10" r="7"/><ellipse cx="8" cy="5" rx="2.5" ry="3.5" transform="rotate(-15 8 5)"/><ellipse cx="16" cy="5" rx="2.5" ry="3.5" transform="rotate(15 16 5)"/><circle cx="10" cy="9" r="1.2" fill="#fff"/><circle cx="14" cy="9" r="1.2" fill="#fff"/><circle cx="10" cy="9.2" r=".6" fill="#1A1A1A"/><circle cx="14" cy="9.2" r=".6" fill="#1A1A1A"/><ellipse cx="12" cy="11.5" rx="1" ry=".6" fill="#FFB6C1"/></svg>',
        momo: '<svg viewBox="0 0 24 24" width="22" height="22" fill="#1A1A1A"><circle cx="12" cy="10" r="7"/><ellipse cx="8" cy="5" rx="2.5" ry="3.5" transform="rotate(-15 8 5)"/><ellipse cx="16" cy="5" rx="2.5" ry="3.5" transform="rotate(15 16 5)"/><circle cx="10" cy="9" r="1.2" fill="#D4A017"/><circle cx="14" cy="9" r="1.2" fill="#D4A017"/><circle cx="10" cy="9.2" r=".5" fill="#000"/><circle cx="14" cy="9.2" r=".5" fill="#000"/><ellipse cx="12" cy="11.5" rx="1" ry=".6" fill="#FFB6C1"/></svg>',
        captain: '<svg viewBox="0 0 24 24" width="22" height="22" fill="#5C4033"><circle cx="12" cy="10" r="7"/><ellipse cx="8" cy="5" rx="2.5" ry="3.5" transform="rotate(-15 8 5)"/><ellipse cx="16" cy="5" rx="2.5" ry="3.5" transform="rotate(15 16 5)"/><circle cx="14" cy="9" r="1.2" fill="#50C878"/><circle cx="14" cy="9.2" r=".5" fill="#000"/><rect x="7.5" y="7.5" width="4" height="3" rx="1" fill="#333" opacity=".8"/><ellipse cx="12" cy="11.5" rx="1" ry=".6" fill="#FFB6C1"/></svg>',
        lingling: '<svg viewBox="0 0 24 24" width="22" height="22" fill="#F5F5F5" stroke="#ddd" stroke-width=".5"><circle cx="12" cy="10" r="7.5"/><ellipse cx="7.5" cy="4.5" rx="3" ry="4" transform="rotate(-15 7.5 4.5)"/><ellipse cx="16.5" cy="4.5" rx="3" ry="4" transform="rotate(15 16.5 4.5)"/><circle cx="10" cy="9" r="1.4" fill="#0F52BA" stroke="none"/><circle cx="14" cy="9" r="1.4" fill="#0F52BA" stroke="none"/><circle cx="10" cy="9" r=".5" fill="#000" stroke="none"/><circle cx="14" cy="9" r=".5" fill="#000" stroke="none"/><ellipse cx="12" cy="11.5" rx="1" ry=".6" fill="#FFB6C1" stroke="none"/></svg>'
      };
      fetch('https://raw.githubusercontent.com/yazelin/catime/main/characters/index.json').then(function(r){ return r.json(); }).then(function(idx){
        var chars = (idx.characters || []).filter(function(c){ return c.enabled; });
        chars.forEach(function(c){
          fetch('https://raw.githubusercontent.com/yazelin/catime/main/characters/' + c.file).then(function(r){ return r.json(); }).then(function(data){
            var a = document.createElement('a');
            a.href = 'character.html?id=' + encodeURIComponent(data.id);
            a.innerHTML = '<span class="char-avatar">' + (icons[data.id] || '<svg viewBox="0 0 24 24" width="22" height="22" fill="currentColor"><circle cx="12" cy="10" r="7"/><ellipse cx="8" cy="5" rx="2.5" ry="3.5" transform="rotate(-15 8 5)"/><ellipse cx="16" cy="5" rx="2.5" ry="3.5" transform="rotate(15 16 5)"/></svg>') + '</span>' +
              '<span>' + (data.name ? data.name.zh : data.id) + '</span>';
            bar.appendChild(a);
          });
        });
      }).catch(function(){});
    })();
  </script>
</body>
</html>
